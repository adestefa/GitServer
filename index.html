<html>
    <head>
        <title>Git Server</title>
        <style>
            img {
                width: 200px;
            }
        </style>
    </head>
    <body>
        <h1>Git Server</h1>


        <img src="imgs/MIM_Cover_gold.png" />

        <br />

        <p>ChatGPT Tools:</p>


        <ol>
            <ol><a href="gpt_satori_context_window.js">ChatGPT Context Window Viewer</a></ol>
            <ol><a href="gpt_satori_context_window_bookmarklet.js">ChatGPT Progress bar Bookmarklet js</a></ol>
            <ol><a href="https://github.com/adestefa/chatgpt_json_exporter">ChatGPT JSON Exporter Browser Extension</a></ol>
           =
        </ol>

        
        <pre>
    # Browser Extension ChatGPT Context Window Progress Bar 

    - Advanced prompt engineering tool 
    - Context-window X-Ray vision
    - The missing feature, see the actual context window in real-time as you type. 
    - Expose the "sliding window" as your session memory exceeds the token limit
    - Use to monitor available memory
    - Unlock the most accurate responses

    +--------------------------------------+

    | ChatGPT Token Usage                  |

    | [██████████░░░░░░░░░░░░░░░░░░░░░]   |

    | 4500 / 8192 tokens                   |

    +--------------------------------------+

        </pre>
<textarea cols="80" rows="4">javascript:(function(){const xPath='/html/body/div[1]/div/div[1]/div[2]/main/div[1]/div[1]/div/div/div/div/div/div[1]',result=document.evaluate(xPath,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null),targetElement=result.singleNodeValue;if(!targetElement){console.log('No element found for the given XPath.');return}else{console.log('Element found for progress bar insertion:',targetElement);const xBadPath='/html/body/div[1]/div/div[1]/div[2]/main/div[1]/div[1]/div/div[2]/div/div/div/div[5]/div/ul/li[1]/button',result2=document.evaluate(xBadPath,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null),badElement=result2.singleNodeValue;console.log("BAD ELEMENT:"+badElement);if(badElement===null){console.log("Bad element not found")}else{console.log("Bad Element Found, exiting!");console.log("Satori Context Window Viewer can only run with a session history. Generate a response and try again.");return}}const TC={ver:"1.5",promptSelector:'#prompt-textarea',responseSelector:'.markdown',modelSelector:'span.text-token-text-secondary',progressBarId:'token-progress-container',words:[],tokens:[],tokenLimit:8192,updateInterval:5000,init:function(containerElement){const result=document.evaluate(xPath,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null),targetElement=result.singleNodeValue;this.containerElement=containerElement;this.promptElement=document.querySelector(this.promptSelector);this.responseElements=document.querySelectorAll(this.responseSelector);if(this.promptElement){this.promptElement.addEventListener('input',this.debounce(this.run.bind(this),300))}this.createProgressBar();this.run();this.startAutoUpdate();this.setupModelObserver()},run:function(){this.words=[];this.tokens=[];let promptWords=0,promptTokens=0,responseTokens=0;if(this.promptElement){const promptText=this.promptElement.value||this.promptElement.innerText;promptWords=this.countWords(promptText);promptTokens=this.estimateTokens(promptWords)}this.responseElements=document.querySelectorAll(this.responseSelector);this.responseElements.forEach(response=>{const wordsInResponse=this.countWords(response.innerText);responseTokens+=this.estimateTokens(wordsInResponse)});const usedTokens=promptTokens+responseTokens;this.updateProgressBar(usedTokens,this.tokenLimit)},estimateTokens:function(wordCount){return Math.round(wordCount*1.33)},countWords:function(str){str=str.trim();if(str==="")return 0;const words=str.match(/\b[A-Za-z0-9]+(?:['-][A-Za-z0-9]+)*\b/g);return words?words.length:0},createProgressBar:function(){if(document.getElementById(this.progressBarId))return;this.progressContainer=document.createElement('div');this.progressContainer.id=this.progressBarId;this.progressContainer.classList.add('absolute','start-1/2','ltr:-translate-x-1/2','rtl:translate-x-1/2');Object.assign(this.progressContainer.style,{height:'100%',width:'100%'});this.innerContainer=document.createElement('div');Object.assign(this.innerContainer.style,{width:'100%',height:'100%',backgroundColor:'#212121',color:'#ffffff',padding:'10px',borderBottom:'2px solid #333',boxSizing:'border-box',display:'flex',alignItems:'center',fontFamily:'Arial, sans-serif',fontSize:'14px'});this.progressBarBackground=document.createElement('div');Object.assign(this.progressBarBackground.style,{flexGrow:'1',height:'100%',backgroundColor:'#444',borderRadius:'5px',overflow:'hidden',marginRight:'10px',display:'flex',alignItems:'center',position:'relative'});this.progressBarFill=document.createElement('div');Object.assign(this.progressBarFill.style,{width:'0%',height:'100%',backgroundColor:'#4caf50',transition:'width 0.5s, background-color 0.5s'});this.progressBarBackground.appendChild(this.progressBarFill);this.progressText=document.createElement('span');Object.assign(this.progressText.style,{position:'absolute',left:'50%',transform:'translateX(-50%)',fontSize:'14px',color:'rgba(255, 255, 255, 0.8)',pointerEvents:'none'});this.progressText.textContent=`0 / ${this.tokenLimit} tokens used`;this.progressBarBackground.appendChild(this.progressText);this.innerContainer.appendChild(this.progressBarBackground);this.progressContainer.appendChild(this.innerContainer);this.containerElement.prepend(this.progressContainer);Object.assign(this.containerElement.style,{width:'50%',height:'80%'})},updateProgressBar:function(used,max){let percentage=(used/max)*100;if(percentage>100)percentage=100;this.progressBarFill.style.width=percentage+'%';if(percentage<60){this.progressBarFill.style.backgroundColor='#4caf50'}else if(percentage<85){this.progressBarFill.style.backgroundColor='#ffcc00'}else if(percentage<95){this.progressBarFill.style.backgroundColor='#ff9800'}else{this.progressBarFill.style.backgroundColor='#f44336'}this.progressText.textContent=`${used} / ${max} Tokens Used - Satori AI`},startAutoUpdate:function(){setInterval(()=>{this.run()},this.updateInterval)},setupModelObserver:function(){const observer=new MutationObserver(()=>{this.detectModelAndSetLimit()});observer.observe(document.body,{childList:true,subtree:true,characterData:true});this.detectModelAndSetLimit()},detectModelAndSetLimit:function(){const modelElements=document.querySelectorAll(this.modelSelector);if(modelElements.length>1){const modelName=modelElements[1].innerText.toLowerCase();console.log("Model found: "+modelName);const modelTokenMap={'4o':8192,'4o mini':10000,'o3-mini-high':74000,'o3-mini':64000,'o1':32000};let newTokenLimit=this.tokenLimit;for(const [model,limit] of Object.entries(modelTokenMap)){if(modelName.includes(model.toLowerCase())){console.log(modelName+" Found!");newTokenLimit=limit;break}}if(newTokenLimit!==this.tokenLimit){this.tokenLimit=newTokenLimit;this.updateProgressBarDisplay();this.run()}}},updateProgressBarDisplay:function(){this.progressText.textContent=`0 / ${this.tokenLimit} tokens used`},debounce:function(func,delay){let debounceTimer;return(...args)=>{clearTimeout(debounceTimer);debounceTimer=setTimeout(()=>func.apply(this,args),delay)}}};TC.init(targetElement)})();
</textarea>
    </body>
</html>